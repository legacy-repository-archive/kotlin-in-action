ì„ íƒê³¼ í‘œí˜„ ì²˜ë¦¬: enumê³¼ when
============================
> ì½”í‹€ë¦°ì˜ êµ¬ì„±ìš”ì†Œ ì¤‘ whenì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì    

ì½”í‹€ë¦°ì˜ `when`ì€ ìë°”ì˜ swtichë¥¼ ëŒ€ì¹˜í•˜ë˜ í›¨ì”¬ ë” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.      
ê·¸ë¦¬ê³  whenì„ ì•Œì•„ë³´ë©´ì„œ ì½”í‹€ë¦°ì—ì„œ `enum`ì„ ì„ ì–¸í•˜ëŠ” ë°©ë²•ê³¼ `ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸`ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³´ì  

# enum í´ë˜ìŠ¤ ì •ì˜   

```kt
enum class Color {
    RED, ORANGE, YELLOW, GREEN, BLUE, INDIGO, VIOLET
}
```
ìë°”ì—ì„œëŠ” class ëŒ€ì‹  enum ì„ ì‚¬ìš©í–ˆì§€ë§Œ   
ì½”í‹€ë¦°ì—ì„œëŠ” class ì•ì— enum ì„ ì‚¬ìš©í•œë‹¤.   
    
ì½”í‹€ë¦°ì—ì„œ `enum`ì€ **ì†Œí”„íŠ¸ í‚¤ì›Œë“œ**ë¡œ,         
íŠ¹ì • ìœ„ì¹˜ì—ì„œëŠ” ë¬¸ë²•ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ë§Œ ì´ì™¸ì˜ ìœ„ì¹˜ì—ì„œëŠ” ë³€ìˆ˜ì˜ ì´ë¦„ìœ¼ë¡œë„ í™œìš© ê°€ëŠ¥í•˜ë‹¤.         

```kt
enum class Color (val r: Int, val g: int, val b: Int) {
    RED(255, 0, 0), ORANGE(255, 165, 0),
    YELLOW(255, 255, 0), GREEN(0, 255, 0), BLUE(0, 0, 255),
    INDIGO(75, 0, 130), VIOLET(238, 130, 238);                  // enum ì—ì„œëŠ” ì„¸ë¯¸ì½œë¡  í•„ìˆ˜ 
    
    fun rgb() = (r * 256 + g) * 256 + b                         // ê°ê°ì˜ í´ë˜ìŠ¤ ì•ˆì—ì„œ ë©”ì„œë“± ì •ì˜  
}
```
ìë°”ì™€ ë§ˆì°¬ê°€ì§€ë¡œ enumì€ ë‹¨ìˆœ ì—´ê±°ê°€ ì•„ë‹Œ í”„ë¡œí¼í‹°ë¥¼ ê°€ì§„ ê°ì²´ë¡œ í†µìš©ëœë‹¤.     
enumì—ì„œë„ ì¼ë°˜ì ì¸ í´ë˜ìŠ¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒì„±ìì™€ í”„ë¡œí¼í‹°ë¥¼ ì„ ì–¸í•œë‹¤.        

* ê° enum ìƒìˆ˜ë¥¼ ì •ì˜í•  ë•ŒëŠ” ê·¸ ìƒìˆ˜ì— í•´ë‹¹í•˜ëŠ” í”„ë¡œí¼í‹° ê°’ì„ ì§€ì •í•´ì•¼ë§Œ í•œë‹¤.      
* enum í´ë˜ìŠ¤ ì•ˆì— ë©”ì„œë“œë¥¼ ì •ì˜í•˜ëŠ” ê²½ìš° ë°˜ë“œì‹œ enum ìƒìˆ˜ ëª©ë¡ê³¼ ë©”ì„œë“œ ì •ì˜ ì‚¬ì´ì— ì„¸ë¯¸ì½œë¡ ì„ ë„£ì–´ì•¼í•œë‹¤.    
  
## whenìœ¼ë¡œ enum í´ë˜ìŠ¤ ë‹¤ë£¨ê¸°     
ê°ê°ì˜ ë‹¨ì–´ë§ˆë‹¤ ê³ ìœ í•œ ì—°ì‚°ì´ ìˆë‹¤ê³  ê°€ì •ì„ í•˜ì.      
ìë°”ë¼ë©´ switch ë¬¸ì„ ì´ìš©í•´ì„œ ë‹¨ì–´ë§ˆë‹¤ í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ë‹¤ë¥´ê²Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤.     
ì½”í‹€ë¦°ì—ì„œëŠ” whenì„ ì´ìš©í•´ì„œ ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ëŒ€ì‹ í•œë‹¤.     

```kt
fun getMemonic(color: Color) = 
    when (color) {
        Color.RED -> "Richard"
        Color.ORANGE -> "Of"
        Color.YELLOW -> "York"
        Color.GREEN -> "Gave"
        Color.BLUE -> "Vattle"
        Color.INDIGO -> "In"
        Color.VIOLET -> "Vain"
    }
>>> print;n(getMemonic(Color.BLUE))
Battle
```
ëˆˆì¹˜ê°€ ë¹ ë¥´ë‹¤ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ **if ì™€ ë§ˆì°¬ê°€ì§€ë¡œ when ë„ `ì‹`ì´ë‹¤.**       
ë”°ë¼ì„œ ë³¸ë¬¸ì¸ í•¨ìˆ˜ì— whenì„ ë°”ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.     
  
ê¸°ëŠ¥ì ì¸ íŠ¹ì„±ìœ¼ë¡œëŠ”, **ìë°”ì™€ ë‹¬ë¦¬ breakë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.**            
ì„±ê³µì ìœ¼ë¡œ ë§¤ì¹˜ë˜ëŠ” ë¶„ê¸°ë¥¼ ì°¾ìœ¼ë©´ `when`ì€ ê·¸ ë¶„ê¸°ë§Œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì´ë‹¤.         

```kt
fun getWarmth(color: Color) = when(color) {
    Color.RED, Color.ORANGE, Color.YELLOW -> "warm"
    Color.GREEN -> "neutral"
    Color.BLUE, Color.INDIGO, Cololr.VIOLET -> "coid"
}
>>> println(getWarmth(Color.ORANGE))
warm
```
ë§Œì•½, í•œ ë¶„ê¸° ì•ˆì—ì„œ ì—¬ëŸ¬ ê°’ì„ ë§¤ì¹˜ íŒ¨í„´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ë„ ìˆëŠ”ë° ì´ëŸ´ ë•Œ ê°’ ì‚¬ì´ë¥¼ `,`ë¡œ ë¶„ë¦¬í•˜ë©´ ëœë‹¤.    

```kt
import ch02.colors.Color
import ch02.colors.Color.*

fun getWarmth(color: Color) = when(color) {
    RED, ORANGE, YELLOW -> "warm"
    GREEN -> "neutral"
    BLUE, INDIGO, VIOLET -> "coid"
}
```
ì°¸ê³ ë¡œ, ìƒìˆ˜ ìƒìˆ˜ ê°’ì„ `import`í•˜ë©´ ìë°”ì˜ `static import` ì²˜ëŸ¼ ì½”ë“œë¥¼ ë” ê°„ê²°íˆ ë§Œë“¤ ìˆ˜ ìˆë‹¤.   

## whenê³¼ ì„ì˜ì˜ ê°ì²´ë¥¼ í•¨ê»˜ ì‚¬ìš© 
ë¶„ê¸° ì¡°ê±´ì— ìƒìˆ˜ë§Œì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìë°”ì˜ switchì™€ ë‹¬ë¦¬,     
**ì½”í‹€ë¦°ì˜ whenì˜ ë¶„ê¸° ì¡°ê±´ì€ ì„ì˜ì˜ ê°ì²´ë¥¼ í—ˆìš©í•œë‹¤.**     

```kt
fun mix(c1: Color, c2: Color) = when(setOf(c1, c2)) {
    setOf(RED, YELLOW) -> ORANGE
    setOf(YELLOW, BLUE) -> GREEN
    setOf(BLUE, VIOLET) -> INDIGO
    else -> throw Exception("Dirty color")
    }
>>> println(mix(BLUE, YELLOW))
GREEN
```  
ìš°ì„  ì´í•´ë¥¼ í•˜ê¸° ìœ„í•´ì„œ `setOf()`ì— ëŒ€í•´ì„œ ì•Œ í•„ìš”ê°€ ìˆë‹¤.                   
`setOf()`ì€ ì½”í‹€ë¦° í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì¸ìë¡œ ì „ë‹¬ ë°›ì€                    
ì—¬ëŸ¬ ê°ì²´ë¥¼ ê·¸ ê°ì²´ë“¤ì„ í¬í•¨í•˜ëŠ” ì§‘í•©ì¸ Set ê°ì²´ë¡œ ë§Œë“œëŠ” í•¨ìˆ˜ë‹¤.(ì›ì†Œì˜ ìˆœì„œëŠ” ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.)               
          
when ì‹ì€ ì¸ì ê°’ê³¼ ë§¤ì¹˜í•˜ëŠ” ì¡°ê±´ ê°’ì„ ì°¾ì„ ë•Œê¹Œì§€ ê° ë¶„ê¸°ë¥¼ ê²€ì‚¬í•œë‹¤.                
**ë¶„ê¸° ì¡°ê±´ì— ìˆëŠ” ê°ì²´ ì‚¬ì´ë¥¼ ë§¤ì¹˜í•  ë•Œ ë™ë“±ì„±ì„ ì‚¬ìš©í•œë‹¤.**               
ê·¸ë¦¬ê³  ê·¸ ë§¤ì¹˜í•˜ëŠ” ë‘˜ì´ ê°™ì§€ ì•Šì„ ê²½ìš° ê³„ì† ë‹¤ìŒ ë¶„ê¸° ì¡°ê±´ ê°ì²´ì™€ ë¹„êµë¥¼ í•œë‹¤.       
ëª¨ë“  ë¶„ê¸° ì‹ì—ì„œ ë§Œì¡±í•˜ëŠ” ì¡°ê±´ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ë©´ else ë¶„ê¸°ì˜ ë¬¸ì¥ì„ ê³„ì‚°í•œë‹¤.      
**whenì˜ ë¶„ê¸° ì¡°ê±´ ë¶€ë¶„ì— `ì‹`ì„ ë„£ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë” ê°„ê²°í•˜ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.**       

## ì¸ì ì—†ëŠ” when ì‚¬ìš©    
```kt
fun mix(c1: Color, c2: Color) = when(setOf(c1, c2)) {
    setOf(RED, YELLOW) -> ORANGE
    setOf(YELLOW, BLUE) -> GREEN
    setOf(BLUE, VIOLET) -> INDIGO
    else -> throw Exception("Dirty color")
    }
>>> println(mix(BLUE, YELLOW))
GREEN
```  
ìœ„ ì½”ë“œì—ì„œ ê° ë¶„ê¸°ë§Œ `setOf()`ëŠ” í˜¸ì¶œí•˜ë©´ì„œ ë¶ˆ í•„ìš”í•œ Set ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.      
**ë¶ˆí•„ìš”í•œ ê°€ë¹„ì§€ ê°ì²´ê°€ ëŠ˜ì–´ë‚˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ğŸ¤”**    
ì¸ìê°€ ì—†ëŠ” when ì‹ì„ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.(ê°€ë…ì„± ë–¨ì–´ì§)       
     
```kt
fun mixOptimized(cl: Color, c2: Color) = when {
    (C1 == RED && C2 == YELLOW) || (C1 == YELLOW && C2 == RED) => ORANGE     
    (C1 == YELLOW && C2 == BLUE) || (C1 == BLUE && C2 == YELLOW) => GREEN      
    (C1 == BLUE && C2 == VIOLET) || (C1 == VIOLET && C2 == BLUE) => INDIGO   
    
    else -> throw new Exception("Dirty color")  
}
>>> println(mixOptimized(BLUE, YELLOW)
GREEN
```
**when ì— ì•„ë¬´ ì¸ìë„ ì—†ìœ¼ë ¤ë©´ ê° ë¶„ê¸°ì˜ ì¡°ê±´ì´ ë¶ˆë¦¬ì–¸ ê²°ê³¼ë¥¼ ê³„ì‚°í•˜ëŠ” ì‹ì–´ì•¼ í•œë‹¤.**              
       
## ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸: íƒ€ì… ê²€ì‚¬ì™€ íƒ€ì… ìºìŠ¤íŠ¸ë¥¼ ì¡°í•©   
   
```kt
interface Expr
class Num(val value: Int): Expr                    // Expr ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ë° value í”„ë¡œí¼í‹°ë§Œ ì¡´ì¬í•˜ëŠ” ë‹¨ìˆœí•œ í´ë˜ìŠ¤    
class Sum(val left: Expr, val right: Expr): Expr   // Expr ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ë° left ë° right í”„ë¡œí¼í‹°ê°€ ì¡´ì¬í•˜ëŠ” í´ë˜ìŠ¤    
```  
`(1 + 2) + 4`ë¼ëŠ” ì‹ì„ ì €ì¥í•˜ê³ ì í•˜ë©´ `Sum(Sum(Num(1), Num(2)), Num(4))` ë¼ëŠ” êµ¬ì¡°ì˜ ê°ì²´ê°€ ìƒê¸´ë‹¤.      
       
Expr ì¸í„°í˜ì´ìŠ¤ì—ëŠ” 2ê°€ì§€ êµ¬í˜„ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•œë‹¤.        
ë”°ë¼ì„œ ì‹ì„ í‰ê°€í•˜ë ¤ë©´ 2ê°€ì§€ ê²½ìš°ë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤.     
    
* ì–´ë–¤ ì‹ì´ ìˆ˜ë¼ë©´ ê·¸ ê°’ì„ ë°˜í™˜í•œë‹¤.     
* ì–´ë–¤ ì‹ì´ í•©ê³„ë¼ë©´ ì¢Œí•­ê³¼ ìš°í•­ì˜ ê°’ì„ ê³„ì‚°í•œ ë‹¤ìŒì— ê·¸ 2ê°’ì„ í•©í•œ ê°’ì„ ë°˜í™˜í•œë‹¤.      

```kt
fun eval(e: Expr): Int {
    if(e is Num) {
        val n = e as Num  // Numìœ¼ë¡œ íƒ€ì… ë³€í™˜í•˜ëŠ”ë°, ì´ëŠ” ë¶ˆí•„ìš”í•œ ì¤‘ë³µì´ë‹¤.   
        return n.value
    }
    if(e is Sum) {
        return eval(e.right) + eval(e.left) // ë³€ìˆ˜ eì— ëŒ€í•´ ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.   
    }
    throw IllegalArgumentException("Unknown expression")
}
>>> println(eval(Sum(Sum(Num(1), Num(2)), Num(4))))
```






  
